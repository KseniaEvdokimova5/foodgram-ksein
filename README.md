Foodgram - Сервис для публикации рецептов

Foodgram — это веб-приложение, где пользователи могут делиться своими кулинарными рецептами, добавлять понравившиеся рецепты в избранное, подписываться на авторов и составлять списки покупок на основе выбранных блюд.

О проекте
Проект Foodgram разработан как дипломная работа и включает в себя:

Публикацию рецептов: Пользователи могут создавать, редактировать и удалять свои рецепты.

Избранное: Возможность добавлять рецепты в личный список избранного для быстрого доступа.

Подписки: Пользователи могут подписываться на авторов, чтобы отслеживать их новые публикации.

Список покупок: Автоматическое формирование списка необходимых ингредиентов для выбранных рецептов с подсчетом общего количества и устранением дубликатов.

Аутентификация и авторизация: Разграничение прав доступа для гостей, зарегистрированных пользователей и администраторов.

Используемые технологии
Проект состоит из двух основных частей:

- Фронтенд: Одностраничное SPA-приложение, разработанное на React.

- Бэкенд: REST API, реализованный на Django.

Инфраструктура:

- База данных: PostgreSQL

- Веб-сервер: Nginx

- Контейнеризация: Docker, Docker Compose

- CI/CD: GitHub Actions (настраивается)

Локальный запуск проекта
Для запуска проекта локально вам потребуется установленный Docker и Docker Compose.

1. Клонирование репозитория
git clone <https://github.com/KseniaEvdokimova5/foodgram-ksein>
cd foodgram/infra

2. Пример файла .env
Создайте файл .env в корневой директории проекта (рядом с docker-compose.yml) со следующими переменными окружения:

# .env файл
```
POSTGRES_DB=foodgram_db
POSTGRES_USER=foodgram_user
POSTGRES_PASSWORD=foodgram_password
DB_HOST=db
DB_PORT=5432
SECRET_KEY=ВАШ_СЕКРЕТНЫЙ_КЛЮЧ_ДЛЯ_DJANGO # Сгенерируйте уникальный ключ
DEBUG=True # Установите False для продакшена
```

3. Запуск контейнеров
Запустите все контейнеры с помощью Docker Compose:

```bash
docker compose up -d
```

Этот шаг запустит контейнеры nginx, db (PostgreSQL) и backend_foodgram. Контейнер frontend выполнит сборку статики и завершит работу.

4. Настройка проекта и загрузка данных
После запуска контейнеров выполните следующие команды, чтобы настроить базу данных, собрать статические файлы и загрузить ингредиенты:

# Сбор статических файлов для бэкенда
```bash
docker compose exec backend_foodgram python manage.py collectstatic --noinput
```

# Копирование статических файлов в директорию, доступную Nginx
```bash
docker compose exec backend_foodgram cp -r /app/collected_static/. /backend_static/static/
```

# Применение миграций базы данных
```bash
docker compose exec backend_foodgram python manage.py migrate
```

# Загрузка ингредиентов из файла data/ingredients.json
```bash
docker compose exec backend_foodgram python manage.py load_ingredients
```

5. Создание суперпользователя
Для доступа к административной панели и создания тестовых данных создайте суперпользователя:

```bash
docker compose exec backend_foodgram python manage.py createsuperuser
```

Следуйте инструкциям в терминале для ввода имени пользователя, адреса электронной почты и пароля.

6. Доступ к приложению и документации
После выполнения всех шагов, веб-приложение будет доступно по адресу:
[http://localhost](http://localhost)

Документация OpenAPI (спецификация API) будет доступна по адресу:
[http://localhost/api/docs/](http://localhost/api/docs/)

Административная панель Django доступна по адресу:
[http://localhost/admin/](http://localhost/admin/)

Тестовый пользователь (сценарий)
Для тестирования функционала после запуска проекта вы можете:

Создать нового пользователя через форму регистрации на сайте ([http://localhost/signup](http://localhost/signup)).

Использовать суперпользователя, созданного в шаге 5, для входа в админ-панель и выполнения операций, требующих администраторских прав, или для тестирования функционала обычного пользователя.

Остановка проекта
Чтобы остановить все запущенные контейнеры:

```bash
docker compose down
```

Если вы хотите удалить все данные (включая тома):

```bash
docker compose down --volumes
```
Автор: Евдокимова Ксения Михайловна
Контакт: ksen.evdo@yandex.ru